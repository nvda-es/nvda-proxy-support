# NVDA 代理支持 #

* 作者： Jose Manuel Delicado
* NVDA compatibility: 2023.3.4 and beyond
* 下载 [稳定版][1]

此插件允许 NVDA 屏幕阅读器通过一个或多个代理服务器连接到互联网。为了实现这一点，它将各种补丁应用于标准 Python
库或修改某些环境变量，具体取决于所选的配置。只要您的组织代理服务器允许，您将能够从您的公司环境自动更新 NVDA 及其插件，甚至可以执行远程会话。

## 功能

* 支持各种代理服务器类型：http、socks4 和 socks5。
* 能够通过代理服务器重定向所有流量或仅重定向特定流量（http、https、ftp）。
* 能够通过代理服务器重定向所有流量，然后通过其他服务器（嵌套代理）重定向特定流量。
* 配置文件切换和重置：如果您通常使用 NVDA 的便携版，您可以为不同的环境（家庭、工作、办公室等）创建各种配置文件并手动激活它们。

## 用法

此插件向 NVDA
设置对话框添加了一个名为“代理”的新类别。在此类别中，您将找到四个设置组。第一个允许您为所有流量配置通用代理。其他组允许您仅为特定协议配置代理服务器。所有组都有以下字段：

* 主机：代理服务器的主机名或IP地址。留空以禁用该特定代理。
* 端口：服务器端口。
* 用户名：可选，服务器身份验证的用户名。
* 密码：可选，服务器身份验证的密码。请注意，socks4 服务器不需要密码。

除了前面的字段外，第一个设置组中还提供以下选项：

* SOCKS 代理类型：可以选择socks4、socks5 或 http。
* 如果可能，为 dns 请求使用代理：选中此复选框后，主机名或域名将直接发送到代理服务器并在其上解析。取消选中时，名称将在本地解析，服务器将仅接收目标
  IP 地址。请注意，并非所有 socks4 代理服务器都支持此选项。

通常，大多数用户只需配置第一个设置组。如果您不知道您的代理详细信息，请咨询您的组织网络管理员以获取更多信息。

## 限制

* 非常有限的 IPV6 支持。
* 并非所有代理服务器都支持 UDP 流量。
* 外部 DLL 库不会遵守此插件中配置的设置。
* http 代理服务器仅支持基本身份验证。不支持摘要式身份验证。
* 为了通过 http 代理重定向所有流量（包括 https 连接），服务器必须支持 CONNECT http 方法。
* 无法配置“直接连接”模式。如果禁用特定代理，则将使用系统默认值。

## 更新日志

### 版本 1.2

* 兼容 NVDA 2023.1。
* 出于安全考虑，将兼容的最低 NVDA 版本设置为 2022.4。
* 更新了翻译。

### 版本 1.1

* 兼容 NVDA 2022.1。
* 出于安全考虑，将兼容的最低 NVDA 版本设置为 2021.3。
* 选中“如果可能，对 dns 请求使用代理”复选框并配置通用代理时修复 socket.getaddrinfo 功能。

### 版本 1.0

* 初始发行。

[[!tag dev stable]]

[1]: https://www.nvaccess.org/addonStore/legacy?file=proxy
